<div class="contendor">
    <div class="section1">
        <div class="part1">
            <div class="section1 w-full p-1">
                <div class="title flex justify-center items-center" *ngIf="liveData?.estado">
                    <h1 class="mb-1 text-center font-light text-gray-500">Transmisi√≥n en vivo</h1>
                    <img src="../../../../assets/img/live.gif" width="15%" alt="live logo" class="ml-2">
                </div>
                <iframe *ngIf="liveData?.estado" class="rounded-lg" [src]="url" frameborder="0" allowfullscreen="true"
                    scrolling="no" height="378" width="100%"></iframe>

                <app-ups *ngIf="!liveData?.estado"></app-ups>
            </div>
        </div>
        <div class="part2 px-2">
            <h1 class="font-light text-xl text-gray-500 text-center mt-2">Top 5 Pujas</h1>

            <ul class="max-w-md divide-y divide-gray-200 dark:divide-gray-700 mt-2">
                <li class="pb-2 sm:pb-3" *ngFor="let item of pujasWithUsers$ | async; let i = index">
                    <div class="items-center grid grid-cols-12 gap-1">
                        <div class="flex-shrink-0 col-span-1">
                            <p [ngClass]="{ 'bg-green-300 rounded-md': updateFlag }" *ngIf="i==0; else icon"
                                class="text-green-400 font-bold">{{i+1}}</p>
                            <ng-template #icon>
                                <p class="text-gray-400">{{i+1}}</p>
                            </ng-template>

                        </div>
                        <div class="col-span-4 flex-1 min-w-0">
                            <p [ngClass]="{ 'bg-green-300 rounded-md': updateFlag }" *ngIf="i == 0"
                                class="text-sm font-medium text-gray-900 truncate dark:text-white">
                                {{item.user.name | titlecase | slice:0:14}}
                            </p>
                            <p *ngIf="i != 0" class="text-sm text-gray-500 truncate dark:text-gray-400">
                                {{item.user.name | titlecase | slice:0:14}}
                            </p>
                        </div>
                        <div class="col-span-3 flex-1 min-w-0">
                            <p [ngClass]="{ 'bg-green-300 rounded-md': updateFlag }" *ngIf="i == 0"
                                class="text-sm font-medium text-gray-900 truncate dark:text-white">
                                {{item.hour | date:'hh:mm:ss' }}
                            </p>
                            <p *ngIf="i != 0" class="text-sm text-gray-500 truncate dark:text-gray-400">
                                {{item.hour | date:'hh:mm:ss' }}
                            </p>
                        </div>
                        <div
                            class="col-span-2 inline-flex items-center text-base font-semibold text-gray-900 dark:text-white">
                            <p [ngClass]="{ 'bg-green-300 rounded-md': updateFlag }" *ngIf="i == 0"
                                class="text-sm font-medium text-gray-900 truncate dark:text-white">
                                #{{item.user.paleta}}
                            </p>
                            <p *ngIf="i != 0" class="text-sm text-gray-500 truncate dark:text-gray-400">
                                #{{item.user.paleta}}
                            </p>
                        </div>
                        <div
                            class="col-span-1 inline-flex items-center text-base font-semibold text-gray-900 dark:text-white">
                            <button (click)="userWin(item)" [ngClass]="{'opacity-0': i!=0}" type="button"
                                class="text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-3 py-1 text-center">
                                <svg width="16" height="16" fill="currentColor" class="bi bi-bookmark-check-fill"
                                    viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm8.854-9.646a.5.5 0 0 0-.708-.708L7.5 7.793 6.354 6.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </li>
            </ul>

        </div>
    </div>


    <div class="section2">
        <div class="opcion1 justify-center flex mt-5">

        </div>
        <div class="opcion1 justify-center flex">
            <button (click)="topClean()" type="button"
                class="text-white bg-gradient-to-r from-yellow-500 via-yellow-600 to-yellow-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-yellow-300 dark:focus:ring-yellow-800 font-medium rounded-lg text-sm px-8 py-2.5 text-center mr-2 mb-2">Limpiar
                Listado</button>
            <button (click)="directoState(true)" *ngIf="!liveData?.estado" type="button"
                class="text-white bg-gradient-to-r from-green-500 via-green-600 to-green-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-8 py-2.5 text-center mr-2 mb-2">Iniciar
                Directo</button>
            <button (click)="directoState(false)" *ngIf="liveData?.estado" type="button"
                class="text-white bg-gradient-to-r from-red-500 via-red-600 to-red-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm px-8 py-2.5 text-center mr-2 mb-2">Detener
                Directo</button>
        </div>
    </div>
</div>